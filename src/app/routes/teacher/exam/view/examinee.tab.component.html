<nz-card>
  <div style="margin-bottom: 1em;">
    <button nz-button nzType="primary" (click)="addExaminees()">添加学生</button>
    <button nz-button [nzType]="'primary'" nz-popconfirm nzPopconfirmTitle="确定清空所有学生么?" (nzOnConfirm)="removeAllExaminees()">
      <span>清空学生</span>
    </button>
  </div>
  <nz-table *ngIf="!loading" #statsTable [nzLoading]="loading" [nzData]="examineeStats"
            [nzFrontPagination]="true" nzSize="small" [nzBordered]="true">
    <thead>
    <tr>
      <th rowSpan="2" nzWidth="150px">学号/用户名</th>
      <th rowspan="2" nzWidth="150px">全名</th>
      <th [colSpan]="_exam.hostsCount">实验主机</th>
    </tr>
    <tr>
      <th *ngFor="let expr of _exam.exprs;let i = index"
          [colSpan]="expr.hostCount">
        实验{{i + 1}}
      </th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let examineeStat of statsTable.data">
      <td>{{ examineeStat.user.username }}</td>
      <td>{{ examineeStat.user.fullName }}</td>
      <ng-container *ngFor="let expr of _exam.exprs">
        <td *ngFor="let hostId of expr.hostIds" style="width: 80px">
          <a target="_blank" href="https://virt.bixlab.cn/#v1:0:=qemu%2F8100111::::::8::">Host{{hostId + 1}}</a>
        </td>
      </ng-container>
    </tr>
    </tbody>
  </nz-table>
</nz-card>
